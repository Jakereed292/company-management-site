<div class="user-dashboard">
    <h1>User Dashboard</h1>
    <p>Welcome to the user dashboard! Here you can see announcements, projects, and more.</p>
    
    <button (click)="getAnnouncements()">Get Announcements</button>
    <button (click)="getTeams()">Get Teams</button>
    
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    
    <div *ngIf="announcements.length > 0">
      <h2>Announcements</h2>
      <ul>
        <li *ngFor="let announcement of announcements">
          <h3>{{ announcement.title }}</h3>
          <p>{{ announcement.message }}</p>
          <small>Posted on: {{ announcement.date | date }}</small>
          <p>Author: {{ announcement.author.profile.firstName }} {{ announcement.author.profile.lastName }}</p>
        </li>
      </ul>
    </div>
    
    <div *ngIf="teams.length > 0">
      <h2>Teams</h2>
      <ul>
        <li *ngFor="let team of teams">
          <h3>{{ team.name }}</h3>
          <p>{{ team.description }}</p>
          <p>Members: 
            <span *ngFor="let member of team.teammates">
              {{ member.profile.firstName }} {{ member.profile.lastName }}{{team.teammates.indexOf(member) !== team.teammates.length - 1 ? ', ' : ''}}
            </span>
          </p>
          <button (click)="getProjects(team.id)">Get Projects</button>
        </li>
      </ul>
    </div>
    
    <div *ngIf="projects.length > 0">
      <h2>Projects</h2>
      <ul>
        <li *ngFor="let project of projects">
          <h3>{{ project.name }}</h3>
          <p>{{ project.description }}</p>
          <p>Status: {{ project.active ? 'Active' : 'Inactive' }}</p>
          <button (click)="onEditProject(project)">Edit</button>
        </li>
      </ul>
    </div>

    <div *ngIf="projects.length > 0">
        <h2>Projects</h2>
        <ul>
          <li *ngFor="let project of projects">
            <h3>{{ project.name }}</h3>
            <p>{{ project.description }}</p>
            <p>Status: {{ project.active ? 'Active' : 'Inactive' }}</p>
            <button (click)="onEditProject(project)">Edit</button>
          </li>
        </ul>
        <button *ngIf="authService.getCurrentUser()?.admin" (click)="onCreateProject()">Create New Project</button>
      </div>
      
    
    <app-edit-project 
      *ngIf="selectedProject"
      [project]="selectedProject"
      (save)="onSaveProject($event)"
      (cancel)="onCancelEdit()">
    </app-edit-project>
  </div>
  
  